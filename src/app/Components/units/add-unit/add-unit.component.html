<div class="add-unit-container">
    <p class="sub-heading">Please enter the unit name and select predefined phase templates to this project.</p>    
    <form class="row add-unit" [formGroup]="unitForm" (ngSubmit)="addToPreview()">
        <div class="col-sm-6">
            <label>Unit name</label>
            <input class="form-control" formControlName="unitName" placeholder="Enter">
        </div>
        <div class="col-sm-6">
            <label>Phase Template</label>          
            <select class="form-select" formControlName="phaseTemplate">        
                <option value="" disabled selected>Select</option>        
                <option *ngFor="let template of templates" [ngValue]="template">{{template}}</option>
            </select>
        </div>
        <div class="col-sm-6">            
            <button class="btn-style add-table-btn" [disabled]="!unitForm.valid" mat-stroked-button color="primary">Add to table</button>
        </div>  
    </form>
    <div class="sub-content">
        <h2>Preview - Add units and there phase templates</h2>       
        <div class="tablesection w-full">
            <table color="primary" mat-table [dataSource]="tabledata" #unitTable>
                <ng-container matColumnDef="name">
                    <th mat-header-cell *matHeaderCellDef>Unit Name</th>
                    <td mat-cell *matCellDef="let element">
                        {{element.name}}
                    </td>
                </ng-container>
                <ng-container matColumnDef="phasetemplate">
                    <th mat-header-cell *matHeaderCellDef>Phase Template</th>
                    <td mat-cell *matCellDef="let element">{{element.phasetemplate}}</td>
                </ng-container>
                <ng-container matColumnDef="actions">
                    <th mat-header-cell *matHeaderCellDef></th>
                        <td mat-cell *matCellDef="let element"> 
                            <div class="delete-button">
                                <button mat-icon-button (click)="delete(element)">
                                    <mat-icon>remove_circle_outline</mat-icon>
                                </button>                           
                            </div>
                        </td>
                  </ng-container>
    
                <tr mat-header-row *matHeaderRowDef="displayedColumns; sticky: true"></tr>
                <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
            </table>           
        </div>
      </div>
      <div>
        <button mat-raised-button color="primary" [disabled]="tabledata && tabledata.length == 0" (click)="addUnit()" class="btn-style add-btn">Add</button>
        <button mat-stroked-button color="primary" [disabled]="tabledata && tabledata.length == 0" (click)="cancel()" class="btn-style cancel-btn">Cancel</button>
      </div>
</div>

